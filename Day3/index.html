<body>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <title></title>
        <script src="//imgcache.qq.com/qcloud/tcbjs/1.7.1/tcb.js"></script>
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
    </head>
    <body>
        <script>
            let app = tcb.init({
                env:'web-files-1931d3'
            });
            let auth = app.auth();

            let Cap = new TencentCaptcha('2088953318',function(res){
                let {randstr,ticket} = res;
                console.log(randstr,ticket);
                app.callFunction({
                    name:'real',
                    data:{randstr,ticket}
                }).then((res)=>{
                    console.log(res);
                    if(res.result.err_msg=="OK"){
                        alert('验证成功！');
                    }
                    else{
                        alert('验证失败！');
                    }
                })
            });

            auth.anonymousAuthProvider().signIn().then(()=>{
                Cap.show();
            });
        </script>
    </body>
</body>